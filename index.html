<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>llan_blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="llan_blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="llan_blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="llan_blog">
  
  
    <link rel="icon" href="//img/noface.jpeg">
  
  <script src="/style.js"></script>
  

</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="/img/noface.jpeg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">llan</a></h1>
		</hgroup>

		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
				<li><a href="/archives/">所有文章</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">所有文章</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="1" href="javascript:void(0)">标签</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/timmyLan" title="github">github</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">llan</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="/img/noface.jpeg" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">llan</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives/">所有文章</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/timmyLan" title="github">github</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        
  
    <article id="post-photo-gallery" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/06/photo-gallery/">photo-gallery</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="react编写的照片墙"><a href="#react编写的照片墙" class="headerlink" title="react编写的照片墙"></a>react编写的照片墙</h2><p>趁国庆有小假期，动手弄一个照片墙熟悉react开发流程以及领悟组件化的魅力<br><a href="https://timmylan.github.io/photo-gallery" target="_blank" rel="external">演示demo</a><br><a href="https://github.com/timmyLan/photo-gallery" target="_blank" rel="external">源码</a></p>
<p>照片墙分为4个基本组件</p>
<ul>
<li>照片基本展示组件</li>
<li>照片控制组件</li>
<li>照片上下拉刷新组件</li>
<li>照片分类导航组件</li>
</ul>
<p>从到开始构建demo到完成demo，体会最深的是动手前要了解各个组件的基本功能，各种取值范围，必要的了解以及清晰的思路可以事半功倍，减少动手所做的无用功。</p>
<h2 id="范围取值"><a href="#范围取值" class="headerlink" title="范围取值"></a>范围取值</h2><img src="/2016/10/06/photo-gallery/stage-range.png" alt="stage-range" title="stage-range">
<p>左侧:</p>
<ul>
<li>最左到偏离舞台一半图片宽度</li>
<li>最右到一半舞台宽度 - 一半图片宽度 - 一整张图片宽度</li>
<li>最上到偏离舞台一半图片高度</li>
<li>最下到整个舞台高度 - 一半图片宽度</li>
</ul>
<p>右侧</p>
<ul>
<li>最左到一半舞台宽度 + 一半图片宽度</li>
<li>最右到舞台宽度 - 一半图片宽度</li>
<li>最上到偏离舞台一半图片高度</li>
<li>最下到整个舞台高度 - 一半图片宽度</li>
</ul>
<p>上侧图片</p>
<ul>
<li>最左到一半舞台宽度 - 整张图片宽度</li>
<li>最右到一半舞台宽度</li>
<li>最上到一半图片高度</li>
<li>最下到一半舞台高度 - 一半图片高度 -整张图片高度</li>
</ul>
<img src="/2016/10/06/photo-gallery/flash.png" alt="stage-range" title="stage-range">
<ul>
<li>刷新点  = 当前舞台相对于顶端额距离</li>
<li>下拉刷新更新当前舞台index的点 = 刷新点 + 当前舞台一半的高度</li>
<li>上拉刷新更新当前舞台index的点 = 刷新点 - 当前舞台一半的高度</li>
</ul>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/10/06/photo-gallery/" class="archive-article-date">
  	<time datetime="2016-10-06T08:10:15.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-10-06</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/css3/">css3</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react/">react</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/react/">react</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-webpack-project" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/24/webpack-project/">webpack-project</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="webpack-project"><a href="#webpack-project" class="headerlink" title="webpack-project"></a>webpack-project</h2><p>一个简单的webpack构建bootstrap自动化例子</p>
<h2 id="github仓库"><a href="#github仓库" class="headerlink" title="github仓库"></a>github仓库</h2><a href="https://github.com/timmyLan/webpack-project" target="_blank" rel="external">webpack-project</a>
<h2 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h2><ul>
<li>希望通过该项目实现快速搭建bootstrap自动化开发环境</li>
<li>通过该项目熟悉webpack的使用方法</li>
<li>专注写业务流程,把重复的工作交给webpack完成，提高开发效率</li>
</ul>
<h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><p>请务必更新node.js (version&gt;=5.x)</p>
<h2 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h2><ul>
<li><p>复制项目</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git clone https://github.com/timmyLan/webpack-project.git</div></pre></td></tr></table></figure>
</li>
<li><p>进入项目并安装包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ cd webpack-project &amp;&amp; npm install</div></pre></td></tr></table></figure>
</li>
<li><p>全局安装rimraf(兼容linux,windows删除文件夹命令)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install rimraf -g</div></pre></td></tr></table></figure>
</li>
<li><p>生产环境</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm run build</div></pre></td></tr></table></figure>
</li>
<li><p>开发环境</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm start</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="环境说明"><a href="#环境说明" class="headerlink" title="环境说明"></a>环境说明</h2><ul>
<li><p>生产环境<br>1.生成文件均放置到public目录<br>2.对文件进行混淆压缩</p>
</li>
<li><p>开发环境<br>1.运用热加载，自动刷新<br>2.添加sourceMap方便调试</p>
</li>
</ul>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/08/24/webpack-project/" class="archive-article-date">
  	<time datetime="2016-08-24T06:11:42.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-08-24</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/bootstrap/">bootstrap</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/webpack/">webpack</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/webpack/">webpack</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-react-native-android-test" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/19/react-native-android-test/">react-native-android-test</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="react-native-Android-真机测试"><a href="#react-native-Android-真机测试" class="headerlink" title="react-native Android 真机测试"></a>react-native Android 真机测试</h1><p>我并不喜欢吐槽，但系理论上虚拟机上跑起的程序到真机不可以开飞机？然而:( 我还是图样图森破</p>
<p>———————————————————————————————————————————————————————————————————————吐槽分割线</p>
<h2 id="真机测试遇到的bug"><a href="#真机测试遇到的bug" class="headerlink" title="真机测试遇到的bug"></a>真机测试遇到的bug</h2><p>1.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">:app:installDebug FAILED</div><div class="line"></div><div class="line">FAILURE: Build failed with an exception.</div><div class="line"></div><div class="line">* What went wrong:</div><div class="line">Execution failed <span class="keyword">for</span> task <span class="string">':app:installDebug'</span>.</div><div class="line">&gt; com.android.builder.testing.api.DeviceException: com.android.ddmlib.InstallException:  Unable to upload some APKs</div><div class="line">...</div></pre></td></tr></table></figure></p>
<p>解决方案: 将{YourProduct}\android\build.gradle 改成<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">...</div><div class="line">buildscript &#123;</div><div class="line">    repositories &#123;</div><div class="line">        jcenter()</div><div class="line">    &#125;</div><div class="line">    dependencies &#123;</div><div class="line">        classpath <span class="string">'com.android.tools.build:gradle:1.2.3'</span></div><div class="line"></div><div class="line">        <span class="comment">// <span class="doctag">NOTE:</span> Do not place your application dependencies here; they belong</span></div><div class="line">        <span class="comment">// in the individual module build.gradle files</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">...</div></pre></td></tr></table></figure></p>
<p>2.解决上述问题再跑react-native run-android，红色error界面 提示<code>Unable to download JS bundle</code><br>解决方案：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">adb reverse tcp:8081 tcp:8081</div><div class="line">react-native run-android</div></pre></td></tr></table></figure></p>
<p>3.测试界面出来了，与虚拟机的一模一样，弹出开发者菜单<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#摇一摇:) 使劲摇 or</span></div><div class="line">adb shell input keyevent 82</div></pre></td></tr></table></figure></p>
<p>点击<code>Enable Hot Reloading</code>，改改index.android.js代码，红色error界面<br>解决方案：</p>
<ul>
<li>查出本机内网ip<a href="http://jingyan.baidu.com/article/154b46315814a928ca8f41d7.html" target="_blank" rel="external">百度方法</a></li>
<li>弹出开发者菜单-&gt;Dev Settings-&gt;Debug server host &amp; port for device</li>
<li>输入本机ip:8081</li>
</ul>
<h2 id="真机测试结果"><a href="#真机测试结果" class="headerlink" title="真机测试结果"></a>真机测试结果</h2><img src="/2016/07/19/react-native-android-test/finish.png" alt="finish" title="finish">

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/07/19/react-native-android-test/" class="archive-article-date">
  	<time datetime="2016-07-19T10:49:51.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-07-19</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/debug/">debug</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/native/">native</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react/">react</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/react/">react</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-react-native" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/19/react-native/">react-native</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="react-native初次踩坑"><a href="#react-native初次踩坑" class="headerlink" title="react-native初次踩坑"></a>react-native初次踩坑</h1><p>有一段时间无写blog了，其实是我懒了:(<br>不对，是我遇到瓶颈了:)<br>发现用react写了个管理系统之后没有东西再创新了，缺少了一幅蓝图…<br>今日尝试搭建react-native,我要在手机端找到激情:)<br>——————————————————————————————————————————————————————————————我是吐槽完毕的分割线</p>
<p>直接参考官网<a href="http://reactnative.cn/docs/0.28/getting-started.html" target="_blank" rel="external">react-native getting-started</a></p>
<h2 id="与官网安装方式不同点"><a href="#与官网安装方式不同点" class="headerlink" title="与官网安装方式不同点"></a>与官网安装方式不同点</h2><p>1.我用的是babun控制台，安装python,node,git不用官网建议的chocolatey<br>安装python<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#pact是babun的包管理器</span></div><div class="line">$ pact install python-setuptools python-ming</div><div class="line">$ pact install libxml2-devel libxslt-devel libyaml-devel</div><div class="line">$ curl -skS https://bootstrap.pypa.io/get-pip.py | python</div><div class="line">$ pip install virtualenv</div><div class="line">$ curl -skS https://raw.githubusercontent.com/mitsuhiko/pipsi/master/get-pipsi.py | python</div></pre></td></tr></table></figure></p>
<p>2.我只用过windows node,github 直接安装.exe</p>
<h2 id="提升搭建速度的方法"><a href="#提升搭建速度的方法" class="headerlink" title="提升搭建速度的方法"></a>提升搭建速度的方法</h2><p>1.<code>react-native init AwesomeProject</code> 需要利用npm 安装包，所以在天朝会有一堵’隐形’的墙阻碍，可以改镜像地址<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org</div></pre></td></tr></table></figure></p>
<p>2.<code>react-native run-android</code> 需要下载<a href="http://services.gradle.org/distributions/gradle-2.4-all.zip" target="_blank" rel="external">gradle-2.4-all.zip</a>，这个不管是不是’天朝墙’的威力，这个包都有62.4M，用迅雷下快多了。下载完修改{YourProduct}\android\gradle\wrapper\gradle-wrapper.properties,将distributionUrl改为本地路径<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">distributionUrl=file:///E:/gradle-2.4-all.zip</div></pre></td></tr></table></figure></p>
<h2 id="跑官方例子遇到的坑"><a href="#跑官方例子遇到的坑" class="headerlink" title="跑官方例子遇到的坑"></a>跑官方例子遇到的坑</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#adb 无启动</span></div><div class="line">Execution failed <span class="keyword">for</span> task <span class="string">':app:installDebug'</span>.</div><div class="line">&gt; com.android.builder.testing.api.DeviceException: Timeout getting device list.</div></pre></td></tr></table></figure>
<p>解决方法：<br>启动Genymotion-&gt;settings-&gt;ADB-&gt;Use custom Android SDK tools<br><img src="/2016/07/19/react-native/settings.jpg" alt="settings" title="settings"></p>
<h2 id="成功跑起官网例子"><a href="#成功跑起官网例子" class="headerlink" title="成功跑起官网例子"></a>成功跑起官网例子</h2><img src="/2016/07/19/react-native/finish.jpg" alt="finish" title="finish">
<p>——————————————————————————————————————————————————————————————我是继续吐槽分割线</p>
<p>跑起了手机端的应用有那么一些激动:)，毕竟过去一年一直在web端跑程序，偶尔用chrome看手机端页面效果。现在这个是虚拟机的反馈，感觉很有新鲜感。</p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/07/19/react-native/" class="archive-article-date">
  	<time datetime="2016-07-19T07:54:30.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-07-19</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Windows/">Windows</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/native/">native</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react/">react</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/react/">react</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-tdd-react" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/06/24/tdd-react/">测试驱动开发 - react</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="测试驱动开发-TDD-react"><a href="#测试驱动开发-TDD-react" class="headerlink" title="测试驱动开发 TDD - react"></a>测试驱动开发 TDD - react</h2><p>因为每次测试需要点击界面才能看出效果，某些效果需要多步操作，测试时间浪费，所以想研究tdd开发。</p>
<p>因为该文章为学习记录，所以详情去看<a href="http://www.ruanyifeng.com/blog/2016/02/react-testing-tutorial.html" target="_blank" rel="external">阮一峰老师教程</a></p>
<p><a href="https://github.com/timmyLan/tdd_react" target="_blank" rel="external">本项目地址</a>，相比阮一峰老师的教程只改了自己熟悉的webpack启动部分。</p>
<p>后续改进:<br>为项目添加redux<br>结合实际开发写多点测试用例</p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/06/24/tdd-react/" class="archive-article-date">
  	<time datetime="2016-06-24T09:51:41.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-06-24</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react/">react</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tdd/">tdd</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/react/">react</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-react-route" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/06/17/react-route/">react-route</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="react-route使用"><a href="#react-route使用" class="headerlink" title="react-route使用"></a>react-route使用</h2><p>redux 单一数据源原则对于多页面应用有点找不着北的感觉，所以配合react-route使用可以完美解决该问题。</p>
<p>用redux首先保证单一数据源<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</div><div class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span>;</div><div class="line"><span class="keyword">import</span> route <span class="keyword">from</span> <span class="string">'./containers/route'</span> <span class="comment">//react-route文件夹</span></div><div class="line"><span class="keyword">import</span> &#123; Provider &#125; <span class="keyword">from</span> <span class="string">'react-redux'</span></div><div class="line"><span class="keyword">import</span> configureStore <span class="keyword">from</span> <span class="string">'./configureStore'</span></div><div class="line">injectTapEventPlugin();</div><div class="line"><span class="keyword">const</span> store = configureStore();</div><div class="line"><span class="keyword">const</span> App = <span class="function"><span class="params">()</span> =&gt;</span> (</div><div class="line">    <span class="xml"><span class="tag">&lt;<span class="name">Provider</span> <span class="attr">store</span>=<span class="string">&#123;store&#125;</span>&gt;</span></span></div><div class="line">        &#123;route&#125;</div><div class="line">    <span class="tag">&lt;/<span class="name">Provider</span>&gt;</span></div><div class="line">);</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">    <span class="xml"><span class="tag">&lt;<span class="name">App</span> /&gt;</span>,</span></div><div class="line">    document.getElementById('app')</div><div class="line">);</div></pre></td></tr></table></figure></p>
<p>react-route 运用<br>假设程序拥有<br>-App主体负责navbar&amp;footer<br>-Home主页负责welcome信息<br>-Detail负责详细信息</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</div><div class="line"><span class="comment">/*react-route*/</span></div><div class="line"><span class="keyword">import</span> &#123; Router, Route, IndexRoute , hashHistory &#125; <span class="keyword">from</span> <span class="string">'react-router'</span>;</div><div class="line"></div><div class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App'</span>;</div><div class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">'./Home'</span>;</div><div class="line"><span class="keyword">import</span> Detail <span class="keyword">from</span> <span class="string">'./Detail'</span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> route = (</div><div class="line">    &lt;Router history=&#123;hashHistory&#125;&gt;</div><div class="line">        &lt;Route path="/" component=&#123;App&#125;&gt;</div><div class="line">            &lt;IndexRoute component=&#123;Home&#125; /&gt;</div><div class="line">            &lt;Route path="detail" component=&#123;Detail&#125; /&gt;</div><div class="line">        &lt;/Route&gt;</div><div class="line">    &lt;/Router&gt;</div><div class="line">);</div><div class="line">export default route;</div></pre></td></tr></table></figure>
<p>这样路由和所需组件就绑定了，并且也能遵守redux单一数据源原则。</p>
<p>项目完整代码 ：<a href="https://github.com/timmyLan/amwares-manage" target="_blank" rel="external">github</a></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/06/17/react-route/" class="archive-article-date">
  	<time datetime="2016-06-17T03:04:35.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-06-17</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react/">react</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react-route/">react-route</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/react/">react</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-express-nginx" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/06/03/express-nginx/">express+nginx</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="nodejs-配合-nginx-部署"><a href="#nodejs-配合-nginx-部署" class="headerlink" title="nodejs 配合 nginx 部署"></a>nodejs 配合 nginx 部署</h2><p>首先安装express并创建一个server</p>
<p>参考<a href="http://timmylan.github.io/2016/04/25/express-mysql-1/" target="_blank" rel="external">搭建express+mysql项目(一)</a></p>
<p>安装nginx<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:nginx/stable</div></pre></td></tr></table></figure></p>
<p>如果 add-apt-repository 不可用<br>Ubuntu &lt;=12.04.xx<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install python-software-properties</div></pre></td></tr></table></figure></p>
<p>Ubuntu &gt;12.04<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install software-properties-common</div></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install nginx</div></pre></td></tr></table></figure>
<p>配置nginx</p>
<p>删除default文件<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo rm /etc/nginx/sites-enabled/default</div></pre></td></tr></table></figure></p>
<p>新建一个example(自定义)文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">server &#123;</div><div class="line">  server_name your.domain.com;</div><div class="line">  listen 80;</div><div class="line"></div><div class="line">  location / &#123;</div><div class="line">    proxy_set_header X-Real-IP $remote_addr;</div><div class="line">    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</div><div class="line">    proxy_set_header Host $http_host;</div><div class="line">    proxy_set_header X-NginX-Proxy true;</div><div class="line">    proxy_pass http://127.0.0.1:3000;</div><div class="line">    proxy_redirect off;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>创建软连接<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo ln <span class="_">-s</span> /etc/nginx/sites-available/example /etc/nginx/sites-enabled</div></pre></td></tr></table></figure></p>
<p>重启<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo service nginx reload</div></pre></td></tr></table></figure></p>
<p>配合pm2</p>
<p>安装<a href="https://github.com/Unitech/pm2" target="_blank" rel="external">pm2</a><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install pm2 -g</div></pre></td></tr></table></figure></p>
<p>用例:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ pm2 start app.js</div></pre></td></tr></table></figure></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/06/03/express-nginx/" class="archive-article-date">
  	<time datetime="2016-06-03T09:13:15.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-06-03</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/express/">express</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nginx/">nginx</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/pm2/">pm2</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/express/">express</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-keystone" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/06/03/keystone/">keystone</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="keystone快速搭建简单项目"><a href="#keystone快速搭建简单项目" class="headerlink" title="keystone快速搭建简单项目"></a>keystone快速搭建简单项目</h2><p>公司需要一个拥有管理页面的主页用来展示产品</p>
<a href="http://keystonejs.com/" target="_blank" rel="external">keystone</a>快速搭建express、mongodb数据驱动的网站<br><br>安装过程就不赘述了,参考<a href="http://keystonejs.com/getting-started/" target="_blank" rel="external">getting-started</a>
<p>重点讲下安装/使用过程中的坑</p>
<p>1.报Cannot find module ‘unicode/category/So’</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"> <span class="comment"># debian</span></div><div class="line">$  sudo apt-get install unicode-data <span class="comment"># optional</span></div><div class="line">  <span class="comment"># gentoo</span></div><div class="line">$  sudo emerge unicode-data <span class="comment"># optional</span></div><div class="line"></div><div class="line">$  npm install unicode</div></pre></td></tr></table></figure>
<p>2.虽然官网有强调,但这里当一个坑列出: 在执行以下命令之前要装<a href="http://yeoman.io/" target="_blank" rel="external">yeoman</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ yo keystone</div></pre></td></tr></table></figure>
<p>3.使用模板的concat页面提交数据时,server中断</p>
<p>其实就是调用了email功能，而安装模板没有带email-ak设置<br>修改 \models\Enquiry.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Enquiry.schema.post(&apos;save&apos;, function() &#123;</div><div class="line">	if (this.wasNew) &#123;</div><div class="line">		this.sendNotificationEmail();</div><div class="line">	&#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>to</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Enquiry.schema.post(&apos;save&apos;, function() &#123;</div><div class="line">	if (this.wasNew) &#123;</div><div class="line">		//this.sendNotificationEmail();</div><div class="line">	&#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>4.模板后台管理界面不能作修改<br>PS：可以hack入源码进行修改~~</p>
<p>附上最终修改效果:<br><img src="/2016/06/03/keystone/amwares.jpg" alt="amwares" title="amwares"></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/06/03/keystone/" class="archive-article-date">
  	<time datetime="2016-06-03T08:03:30.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-06-03</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/bootstrap/">bootstrap</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/express/">express</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/keystone/">keystone</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mongodb/">mongodb</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/install/">install</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-redux-example" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/25/redux-example/">redux-example</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="redux-example"><a href="#redux-example" class="headerlink" title="redux-example"></a>redux-example</h2><p>react项目上越来越多状态需要管理,所以选择用redux</p>
<p>写了一个易于理解的example,具体代码见<a href="https://github.com/timmyLan/redux-example" target="_blank" rel="external">github</a></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/05/25/redux-example/" class="archive-article-date">
  	<time datetime="2016-05-25T07:57:15.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-05-25</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react/">react</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/debug/">debug</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-vagrant-error" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/23/vagrant-error/">vagrant-error</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="VM-无法访问"><a href="#VM-无法访问" class="headerlink" title="VM 无法访问"></a>VM 无法访问</h2><p>问题：</p>
<img src="/2016/05/23/vagrant-error/error.jpg" alt="error" title="error">
<p>出现原因：</p>
<p>安装homestead忘记将config.vm.box_version = settings[“version”] ||= “&gt;= 0.4.0”设置为&gt;=0,导致VirtualBox重新下载。<br>强制关闭,导致VM重复无法访问。</p>
<p>解决办法：</p>
<p>将项目中的.vagrant 删除 并执行 vagrant up即可</p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/05/23/vagrant-error/" class="archive-article-date">
  	<time datetime="2016-05-23T03:37:42.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-05-23</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vagrant/">vagrant</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/debug/">debug</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  


      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 llan
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true
	}
</script>

<script src="/./main.js"></script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
      <li class="chose" data-hook="tools-section-all"><span class="text">全部</span><i class="icon-book"></i></li>
    
    
      <li data-hook="tools-section-tag"><span class="text">标签</span><i class="icon-price-tags"></i></li>
    
    
    
  </ul>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all chose">
    	</section>
    

    
    	<section class="tools-section tools-section-tag">
    			<div class="widget tagcloud" id="js-tagcloud">
    				<a href="/tags/Android/" style="font-size: 10px;">Android</a> <a href="/tags/Windows/" style="font-size: 10px;">Windows</a> <a href="/tags/android/" style="font-size: 10px;">android</a> <a href="/tags/babun/" style="font-size: 10px;">babun</a> <a href="/tags/bootstrap/" style="font-size: 13.33px;">bootstrap</a> <a href="/tags/cmder/" style="font-size: 10px;">cmder</a> <a href="/tags/css3/" style="font-size: 10px;">css3</a> <a href="/tags/debug/" style="font-size: 10px;">debug</a> <a href="/tags/express/" style="font-size: 16.67px;">express</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/keystone/" style="font-size: 10px;">keystone</a> <a href="/tags/laravel/" style="font-size: 10px;">laravel</a> <a href="/tags/mintty/" style="font-size: 10px;">mintty</a> <a href="/tags/mongodb/" style="font-size: 10px;">mongodb</a> <a href="/tags/msi/" style="font-size: 10px;">msi</a> <a href="/tags/multer/" style="font-size: 10px;">multer</a> <a href="/tags/mysql/" style="font-size: 13.33px;">mysql</a> <a href="/tags/native/" style="font-size: 13.33px;">native</a> <a href="/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/tags/oh-my-zsh/" style="font-size: 10px;">oh-my-zsh</a> <a href="/tags/orm/" style="font-size: 10px;">orm</a> <a href="/tags/pm2/" style="font-size: 10px;">pm2</a> <a href="/tags/react/" style="font-size: 20px;">react</a> <a href="/tags/react-route/" style="font-size: 10px;">react-route</a> <a href="/tags/tdd/" style="font-size: 10px;">tdd</a> <a href="/tags/vagrant/" style="font-size: 10px;">vagrant</a> <a href="/tags/webpack/" style="font-size: 10px;">webpack</a>
    			</div>
    	</section>
    

    

    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>